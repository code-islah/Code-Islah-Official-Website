<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content=" " />
    <meta name="description" content=" " />
    <meta name="keywords" content=" " />
    <link rel="shortcut icon" type="image/x-icon" href="./img/favicon.png" />
    <link rel="stylesheet" href="./style/style.css" />
    <link rel="stylesheet" href="./style/chlng.css" />
    <link rel="stylesheet" href="./style/bootstrap-icons.css" />
    <script defer src="/js/main.js"></script>
    <title>Meet Your Challenges</title>
    <style>
      .counter div {
        background: linear-gradient(
          45deg,
          var(--clr-light-50),
          var(--clr-dark-50)
        );
      }

      .counter div:nth-child(odd) {
        background: var(--clr-glass);
      }

      .percentages {
        width: 100%;
        height: 3px;
        position: relative;
        border-radius: var(--rounded);
        margin: var(--size-300) 0;
        outline: 1px solid var(--clr-glass);
        display: flex;
      }

      .htmlColor {
        background-color: var(--clr-html);
      }

      .cssColor {
        background-color: var(--clr-css);
      }

      .jsColor {
        background-color: var(--clr-js);
      }

      .htmlColor,
      .cssColor,
      .jsColor {
        height: 100%;
        text-align: right;
        font-size: var(--fs-100);
        font-weight: var(--fw-600);
      }

      .goTo input,
      .goTo button {
        padding: var(--size-100);
      }

      .goTo button {
        border-top-right-radius: var(--rounded);
        border-bottom-right-radius: var(--rounded);
      }

      .goTo input {
        width: var(--size-solid-400);
        border-top-left-radius: var(--rounded);
        border-bottom-left-radius: var(--rounded);
      }

      /* LANGUAGE DOTS */
      .langDots {
        display: inline-flex;
        gap: var(--size-100);
      }

      .langDots span {
        display: inline-block;
        border-radius: 50%;
        width: calc(var(--size-300) - 2px);
        aspect-ratio: 1;
      }

      .langDots span:first-child {
        background-color: var(--clr-html);
      }

      .langDots span:nth-child(2) {
        background-color: var(--clr-css);
      }

      .langDots span:nth-child(3) {
        background-color: var(--clr-js);
      }
    </style>
  </head>

  <body>
    <header
      class="clr-bg-primary clr-text-light z-100 width-100 blur-effect shadow top"
    >
      <div class="container">
        <nav class="nav d-grid space-between pos-rel">
          <div class="align-self-center d-flex align-items-center">
            <a href="/index.html">
              <img class="logo | width-100" src="./img/logo.png" alt="" />
            </a>
          </div>
          <div class="align-self-center">
            <p class="banner h4 clr-text-accent">Code Islah</p>
          </div>
          <div class="d-grid m-top-tiny">
            <div
              class="border-common toggler p-tiny rounded d-flex place-content-center navbarToggler m-right"
            >
              <svg
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"
              >
                <!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. -->
                <path
                  d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"
                />
              </svg>
            </div>
            <div class="height-0 opacity-0 transition" id="navbar">
              <ul class="text-right transition uppercase m-top-tiny">
                <li><a href="/index.html"> Home </a></li>
                <li>
                  <a href="login.html">Sign In</a>
                </li>
                <li>
                  <a href="/downloads.html">Downloads</a>
                </li>
                <li class="active">
                  <a href="/chlng.html"
                    >Challenges &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a
                  >
                </li>
                <li>
                  <a href="/playground.html">Playground</a>
                </li>
                <li>
                  <a href="/about.html">About</a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <h1
        class="h2 clr-text-accent text-shadow arabic-bolder h4 text-center m-top"
      >
        JavaScript
      </h1>
      <div class="goTo right pos-fixed bottom m-high d-flex">
        <input type="number" placeholder="E. 1" id="search" />
        <button class="clr-bg-accent clr-text-white" onclick="navigate()">
          Go
        </button>
      </div>
      <div class="container">
        <section class="counter">
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Alif Baa Taa</h4>
            <p class="p m-bottom-tiny">
              Every button clicking vocals the correct pronunciation of the
              letter.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/huruf.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Analog Clock</h4>
            <p class="p m-bottom-tiny">
              It has some mathematical approaches to follow.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>

            <span class="percentages"></span>

            <a href="/challenges/analogClock.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Update CSS Variable with JS</h4>
            <p class="p m-bottom-tiny">
              New concept of changing style declarations.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>

            <a href="/challenges/updateCSSvarWithJS.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Array Methods Practice</h4>
            <p class="p m-bottom-tiny">
              Most of array methods which are super handy to manipulate data.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/arrayMethods.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Flexible Image Gallery</h4>
            <p class="p m-bottom-tiny">
              Where flex-grow got the focus of the developers.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/flexibleImageGallery.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">AJAX Type Ahead with fetch()</h4>
            <p class="p m-bottom-tiny">
              Strength your ability by working with large databases.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/fetchJSON.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Canvas</h4>
            <p class="p m-bottom-tiny">
              Draw anything you want, not to behave like a child but to
              comprehend the basics of canvas.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/canvas.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Checkboxes Multi Selection</h4>
            <p class="p m-bottom-tiny">
              Select multi checkboxes at once, a tricky JS Project.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/checkbox.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">HTML 5 Video Player</h4>
            <p class="p m-bottom-tiny">
              Control the video using your JS powered custom controls.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/html5VideoPlayer.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">KONAMI Code</h4>
            <p class="p m-bottom-tiny">
              Find the secret code and unlock the abstract pattern.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/konamiCode.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Slide In On Scroll</h4>
            <p class="p m-bottom-tiny">Ordinary Image slide in on scroll.</p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/slidenInOnScroll.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Reference Vs Copy</h4>
            <p class="p m-bottom-tiny">
              Know the difference between copy and reference for various data
              types.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/refVsCopy.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">LocalStorage & Event Delegation</h4>
            <p class="p m-bottom-tiny">
              From hard approaches to easy one in handling with local storage
              and events.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/localStorage&EventDel.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Text Shadow on Mouse Move</h4>
            <p class="p m-bottom-tiny">
              Move mouse around text to change CSS value.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/textShadowOnMouse.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Sorting An Array Without Articles</h4>
            <p class="p m-bottom-tiny">
              Usages of Array with Regular Expression.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/sortingWithoutArticles.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Adding Up Time With Array Reduce Method</h4>
            <p class="p m-bottom-tiny">
              Array reduce method to find out seconds, minutes and hours from
              videos.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/arrayReduce.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
          <div class="border-common rounded p-medium shadow">
            <h4 class="h4">Unreal WebCam</h4>
            <p class="p m-bottom-tiny">
              This is just a fun way to explore the getUserMedia API with
              canvas.
            </p>
            <p class="p fw-600 clr-text-light">
              <span class="langDots"
                ><span></span>
                <span></span>
                <span></span
              ></span>
              : HTML, CSS & JS
            </p>
            <span class="percentages"></span>
            <a href="/challenges/unrealWebcam.html">
              <button class="btn rounded m-top-tiny">Learn Now</button>
            </a>
          </div>
        </section>
      </div>
    </main>

    <script>
      //SHOW PERCENTAGES
      const percentages = document.querySelectorAll(".percentages");
      const links = document.querySelectorAll(".counter a");

      fetch("/challenges/data/percentages.json")
        .then((res) => res.json())
        .then((values) => {
          percentages.forEach((v, i) => {
            showPercent(values, i);
          });
        });

      function showPercent(data, i) {
        const span1Value = data[i]["span1"];
        const span2Value = data[i]["span2"];
        const span3Value = data[i]["span3"];

        let total = [
          parseFloat(span1Value),
          parseFloat(span2Value),
          parseFloat(span3Value),
        ];

        dotsOutliner(total, i);

        let percentage = 100 / total.reduce((acc, v) => acc + v);

        let html = percentage * total[0];
        let css = percentage * total[1];
        let js = percentage * total[2];

        percentages[
          i
        ].innerHTML = `<span class="htmlColor" style="width: ${html}%">${
          parseInt(html) + "%"
        }</span><span class="cssColor" style="width:${css}%">${
          parseInt(css) + "%"
        }</span><span class="jsColor" style="width:${js}%">${
          parseInt(js) + "%"
        }</span>`;
      }

      function dotsOutliner(arr, i) {
        const dots = document.querySelectorAll(".langDots");

        let values = arr.map((v) => parseFloat(v));
        // Get sorted indices (descending)
        let sortedIndices = values
          .map((v, idx) => [v, idx])
          .sort((a, b) => b[0] - a[0])
          .map((pair) => pair[1]);

        // Outline widths: highest gets 3px, middle 2px, lowest 1px
        let outlines = [0, 0, 0];
        outlines[sortedIndices[0]] = 3;
        outlines[sortedIndices[1]] = 2;
        outlines[sortedIndices[2]] = 1;

        const colors = ["var(--clr-html)", "var(--clr-css)", "var(--clr-js)"];
        dots[i].innerHTML = `
          <span style="outline:${outlines[0]}px solid ${colors[0]}"></span>
          <span style="outline:${outlines[1]}px solid ${colors[1]}"></span>
          <span style="outline:${outlines[2]}px solid ${colors[2]}"></span>
        `;
      }
    </script>
  </body>
</html>
